{"ast":null,"code":"import { REGISTER_SUCCESS, REGISTER_FAIL, SIGN_IN, SIGN_ERROR, LOG_IN_SUCCESS, LOG_IN_FAIL } from '../actions/types';\nconst initialState = {\n  token: localStorage.getItem('token'),\n  isAuth: null,\n  load: true,\n  user: null\n};\nexport default function (state = initialState, action) {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case LOG_IN_SUCCESS:\n      return { ...state,\n        ...payload,\n        isAuth: true,\n        load: false\n      };\n\n    case SIGN_IN:\n      return { ...state,\n        ...payload,\n        isAuth: true,\n        load: false\n      };\n\n    case REGISTER_SUCCESS:\n      localStorage.setItem('token', payload.token);\n      return { ...state,\n        ...payload,\n        isAuth: true,\n        load: false\n      };\n\n    case REGISTER_FAIL:\n    case LOG_IN_FAIL:\n    case SIGN_ERROR:\n      localStorage.removeItem('token');\n      return { ...state,\n        token: null,\n        isAuth: false,\n        load: false\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["E:/nodejs/mediocademy/social/client/src/reducers/auth.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","SIGN_IN","SIGN_ERROR","LOG_IN_SUCCESS","LOG_IN_FAIL","initialState","token","localStorage","getItem","isAuth","load","user","state","action","type","payload","setItem","removeItem"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,aAA1B,EAAyCC,OAAzC,EAAkDC,UAAlD,EAA8DC,cAA9D,EAA6EC,WAA7E,QAA+F,kBAA/F;AACA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADS;AAEjBC,EAAAA,MAAM,EAAG,IAFQ;AAGjBC,EAAAA,IAAI,EAAG,IAHU;AAIjBC,EAAAA,IAAI,EAAG;AAJU,CAArB;AAOA,eAAe,UAASC,KAAK,GAAEP,YAAhB,EAA8BQ,MAA9B,EAAqC;AAEpD,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAkBF,MAAxB;;AAEgB,UAAQC,IAAR;AACI,SAAKX,cAAL;AACI,aAAO,EACH,GAAGS,KADA;AAEH,WAAGG,OAFA;AAGHN,QAAAA,MAAM,EAAG,IAHN;AAIHC,QAAAA,IAAI,EAAG;AAJJ,OAAP;;AAMJ,SAAKT,OAAL;AACI,aAAO,EACH,GAAGW,KADA;AAEH,WAAGG,OAFA;AAGHN,QAAAA,MAAM,EAAG,IAHN;AAIHC,QAAAA,IAAI,EAAE;AAJH,OAAP;;AAMJ,SAAKX,gBAAL;AACIQ,MAAAA,YAAY,CAACS,OAAb,CAAqB,OAArB,EAA6BD,OAAO,CAACT,KAArC;AACA,aAAO,EACH,GAAGM,KADA;AAEH,WAAGG,OAFA;AAGHN,QAAAA,MAAM,EAAE,IAHL;AAIHC,QAAAA,IAAI,EAAE;AAJH,OAAP;;AAOJ,SAAKV,aAAL;AACA,SAAKI,WAAL;AACA,SAAKF,UAAL;AACIK,MAAAA,YAAY,CAACU,UAAb,CAAwB,OAAxB;AACA,aAAO,EACH,GAAGL,KADA;AAEHN,QAAAA,KAAK,EAAE,IAFJ;AAGHG,QAAAA,MAAM,EAAE,KAHL;AAIHC,QAAAA,IAAI,EAAE;AAJH,OAAP;;AAQJ;AACI,aAAOE,KAAP;AArCR;AAuCf","sourcesContent":["import {REGISTER_SUCCESS, REGISTER_FAIL, SIGN_IN, SIGN_ERROR, LOG_IN_SUCCESS,LOG_IN_FAIL} from '../actions/types';\r\nconst initialState = {\r\n    token : localStorage.getItem('token'),\r\n    isAuth : null,\r\n    load : true,\r\n    user : null\r\n}\r\n\r\nexport default function(state= initialState, action){\r\n\r\nconst {type, payload} = action;\r\n\r\n                switch (type) {\r\n                    case LOG_IN_SUCCESS : \r\n                        return {\r\n                            ...state,\r\n                            ...payload,\r\n                            isAuth : true,\r\n                            load : false\r\n                        }\r\n                    case SIGN_IN : \r\n                        return {\r\n                            ...state,\r\n                            ...payload,\r\n                            isAuth : true,\r\n                            load: false\r\n                        }\r\n                    case REGISTER_SUCCESS:\r\n                        localStorage.setItem('token',payload.token);\r\n                        return {\r\n                            ...state,\r\n                            ...payload,\r\n                            isAuth: true,\r\n                            load: false\r\n                        }\r\n                        \r\n                    case REGISTER_FAIL:\r\n                    case LOG_IN_FAIL :\r\n                    case SIGN_ERROR : \r\n                        localStorage.removeItem('token');\r\n                        return {\r\n                            ...state,\r\n                            token: null,\r\n                            isAuth: false,\r\n                            load: false\r\n                        }\r\n                        \r\n\r\n                    default:\r\n                        return state;\r\n                }\r\n}"]},"metadata":{},"sourceType":"module"}