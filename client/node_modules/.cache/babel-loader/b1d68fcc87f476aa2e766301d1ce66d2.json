{"ast":null,"code":"import { REGISTER_SUCCESS, REGISTER_FAIL, SIGN_IN, SIGN_ERROR, LOG_IN_SUCCESS, LOG_IN_FAIL, LOG_OUT, CLEAR_PROFILE } from '../actions/types';\nconst initialState = {\n  token: localStorage.getItem('token'),\n  isAuth: null,\n  load: true,\n  user: null\n};\nexport default function auth(state = initialState, action) {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case LOG_IN_SUCCESS:\n      localStorage.setItem('token', payload.token);\n      return { ...state,\n        ...payload,\n        isAuth: true,\n        load: false\n      };\n\n    case SIGN_IN:\n      return { ...state,\n        user: payload,\n        isAuth: true,\n        load: false\n      };\n\n    case REGISTER_SUCCESS:\n      localStorage.setItem('token', payload.token);\n      return { ...state,\n        ...payload,\n        isAuth: true,\n        load: false\n      };\n\n    case REGISTER_FAIL:\n    case LOG_IN_FAIL:\n    case SIGN_ERROR:\n    case LOG_OUT:\n      localStorage.removeItem('token');\n      return { ...state,\n        token: null,\n        isAuth: false,\n        load: false\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["E:/nodejs/mediocademy/social/client/src/reducers/auth.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","SIGN_IN","SIGN_ERROR","LOG_IN_SUCCESS","LOG_IN_FAIL","LOG_OUT","CLEAR_PROFILE","initialState","token","localStorage","getItem","isAuth","load","user","auth","state","action","type","payload","setItem","removeItem"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,aAA1B,EACQC,OADR,EACiBC,UADjB,EAEQC,cAFR,EAGQC,WAHR,EAIQC,OAJR,EAKQC,aALR,QAMW,kBANX;AAOA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADS;AAEjBC,EAAAA,MAAM,EAAG,IAFQ;AAGjBC,EAAAA,IAAI,EAAG,IAHU;AAIjBC,EAAAA,IAAI,EAAG;AAJU,CAArB;AAOA,eAAe,SAASC,IAAT,CAAcC,KAAK,GAAER,YAArB,EAAmCS,MAAnC,EAA0C;AAEzD,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAkBF,MAAxB;;AAEgB,UAAQC,IAAR;AACI,SAAKd,cAAL;AACAM,MAAAA,YAAY,CAACU,OAAb,CAAqB,OAArB,EAA8BD,OAAO,CAACV,KAAtC;AACI,aAAO,EACH,GAAGO,KADA;AAEH,WAAGG,OAFA;AAGHP,QAAAA,MAAM,EAAG,IAHN;AAIHC,QAAAA,IAAI,EAAG;AAJJ,OAAP;;AAMJ,SAAKX,OAAL;AACI,aAAO,EACH,GAAGc,KADA;AAEHF,QAAAA,IAAI,EAAGK,OAFJ;AAGHP,QAAAA,MAAM,EAAG,IAHN;AAIHC,QAAAA,IAAI,EAAE;AAJH,OAAP;;AAMJ,SAAKb,gBAAL;AACIU,MAAAA,YAAY,CAACU,OAAb,CAAqB,OAArB,EAA6BD,OAAO,CAACV,KAArC;AACA,aAAO,EACH,GAAGO,KADA;AAEH,WAAGG,OAFA;AAGHP,QAAAA,MAAM,EAAE,IAHL;AAIHC,QAAAA,IAAI,EAAE;AAJH,OAAP;;AAOJ,SAAKZ,aAAL;AACA,SAAKI,WAAL;AACA,SAAKF,UAAL;AACA,SAAKG,OAAL;AACII,MAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACA,aAAO,EACH,GAAGL,KADA;AAEHP,QAAAA,KAAK,EAAE,IAFJ;AAGHG,QAAAA,MAAM,EAAE,KAHL;AAIHC,QAAAA,IAAI,EAAE;AAJH,OAAP;;AAQJ;AACI,aAAOG,KAAP;AAvCR;AAyCf","sourcesContent":["import {REGISTER_SUCCESS, REGISTER_FAIL,\r\n        SIGN_IN, SIGN_ERROR,\r\n        LOG_IN_SUCCESS,\r\n        LOG_IN_FAIL,\r\n        LOG_OUT,\r\n        CLEAR_PROFILE\r\n    } from '../actions/types';\r\nconst initialState = {\r\n    token : localStorage.getItem('token'),\r\n    isAuth : null,\r\n    load : true,\r\n    user : null\r\n}\r\n\r\nexport default function auth(state= initialState, action){\r\n\r\nconst {type, payload} = action;\r\n\r\n                switch (type) {\r\n                    case LOG_IN_SUCCESS : \r\n                    localStorage.setItem('token', payload.token);\r\n                        return {\r\n                            ...state,\r\n                            ...payload,\r\n                            isAuth : true,\r\n                            load : false\r\n                        }\r\n                    case SIGN_IN : \r\n                        return {\r\n                            ...state,\r\n                            user : payload,\r\n                            isAuth : true,\r\n                            load: false\r\n                        }\r\n                    case REGISTER_SUCCESS:\r\n                        localStorage.setItem('token',payload.token);\r\n                        return {\r\n                            ...state,\r\n                            ...payload,\r\n                            isAuth: true,\r\n                            load: false\r\n                        }\r\n                        \r\n                    case REGISTER_FAIL:\r\n                    case LOG_IN_FAIL :\r\n                    case SIGN_ERROR : \r\n                    case LOG_OUT : \r\n                        localStorage.removeItem('token');\r\n                        return {\r\n                            ...state,\r\n                            token: null,\r\n                            isAuth: false,\r\n                            load: false\r\n                        }\r\n                        \r\n\r\n                    default:\r\n                        return state;\r\n                }\r\n}"]},"metadata":{},"sourceType":"module"}